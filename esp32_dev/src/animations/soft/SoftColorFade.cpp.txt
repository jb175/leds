#include "SoftColorFade.h"
#include <FastLED.h>

// Constructor: Set the starting color and fade speed
SoftColorFade::SoftColorFade(CRGB startColor, unsigned int fadeSpeed) 
    : startColor(startColor), fadeSpeed(fadeSpeed) {}

// Generate LED states for the SoftColorFade animation
void SoftColorFade::generateLEDs(CRGB leds[NUM_LEDS], unsigned long timeElapsed) {
    // Calculate the transition between colors over time
    uint8_t colorIndex = timeElapsed / fadeSpeed; // Adjust color over time based on fade speed

    // Smoothly transition between different colors
    CRGB color = startColor;
    color.nscale8(sin8(colorIndex)); // Color fades smoothly with sine wave function

    // Apply the fading color to each LED
    for (int i = 0; i < NUM_LEDS; i++) {
        leds[i] = color;
    }
}
